<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Frontline Terminal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <script>
    // åŠ¨æ€åŠ è½½å†…å®¹å‡½æ•°
    function loadContent(id, path) {
      const container = document.getElementById(id);

      // å¦‚æœå·²ç»åŠ è½½è¿‡å†…å®¹ï¼Œä¸å†é‡æ–°åŠ è½½
      if (container.dataset.loaded === "true") return;

      fetch(path)
        .then(response => response.text())
        .then(html => {
          container.innerHTML = html;
          container.dataset.loaded = "true";
        })
        .catch(err => {
          container.innerHTML = "<p>âš ï¸ åŠ è½½å¤±è´¥ã€‚</p>";
        });
    }
  </script>
</head>
<body>
  <h1>ğŸ“¡ FRONTLINE TERMINAL</h1>
  <p class="timestamp_lastupdate">æœ€åæ›´æ–°ï¼š2025-06-03</p>

  <!-- æ—¥æœŸä¸€ -->
  <details>
    <summary onclick="loadContent('day-2025-06-03', 'days/2025-06-03.html')">ğŸ“… 2025-06-03ï¼ˆæ˜ŸæœŸäºŒï¼‰</summary>
    <div id="day-2025-06-03" data-loaded="false">
      <p>åŠ è½½ä¸­...</p>
    </div>
  </details>

  <!-- æ—¥æœŸäºŒ -->
  <details>
    <summary onclick="loadContent('day-2025-06-02', 'days/2025-06-02.html')">ğŸ“… 2025-06-02ï¼ˆæ˜ŸæœŸä¸€ï¼‰</summary>
    <div id="day-2025-06-02" data-loaded="false">
      <p>åŠ è½½ä¸­...</p>
    </div>
  </details>

  <hr>
  <p><em>ä½ å¯ä»¥é€šè¿‡åœ¨bilibiliç»™æˆ‘å……ç”µæ¥æ”¯æŒæˆ‘çš„å·¥ä½œ</em></p>

  <script>
    // é¡µé¢åŠ è½½æ—¶é»˜è®¤æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ¶ˆæ¯
    document.addEventListener("DOMContentLoaded", function () {
      const threads = document.querySelectorAll('.thread');
      threads.forEach(thread => {
        const threadItems = thread.querySelectorAll('.thread-item');
        threadItems[0].style.display = 'block'; // é»˜è®¤æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ¶ˆæ¯
        threadItems.forEach((item, index) => {
          if (index > 0) item.style.display = 'none'; // éšè—åç»­æ¶ˆæ¯
        });
      });
    });
    
    // å±•å¼€/æ”¶èµ·åŠŸèƒ½
    function expandThread(button) {
      const thread = button.closest('details');  // æ‰¾åˆ°å½“å‰æŒ‰é’®æ‰€åœ¨çš„ details å®¹å™¨
      const threadItems = thread.querySelectorAll('.thread-item');  // è·å–æ‰€æœ‰ thread-item
      
      // æ£€æŸ¥å½“å‰æ˜¯å¦å±•å¼€
      if (thread.classList.contains('expanded')) {
        // å¦‚æœå·²å±•å¼€ï¼Œåˆ™æ”¶èµ·
        thread.classList.remove('expanded');
        button.textContent = "ğŸ“– å±•å¼€å…¨éƒ¨";  // æ›´æ–°æŒ‰é’®æ–‡æœ¬ä¸º "å±•å¼€"
        threadItems.forEach((item, index) => {
          if (index !== 0) {  // å§‹ç»ˆä¿æŒç¬¬ä¸€ä¸ªæ¶ˆæ¯æ˜¾ç¤ºï¼Œå…¶ä»–æ¶ˆæ¯éšè—
            item.style.display = 'none';
          }
        });
      } else {
        // å¦‚æœæœªå±•å¼€ï¼Œåˆ™å±•å¼€
        thread.classList.add('expanded');
        button.textContent = "ğŸ“š æ”¶èµ·";  // æ›´æ–°æŒ‰é’®æ–‡æœ¬ä¸º "æ”¶èµ·"
        threadItems.forEach(item => item.style.display = 'block');  // æ˜¾ç¤ºæ‰€æœ‰ thread-item
      }
    }
  </script>

  <script>
    // ç¦ç”¨åŒå‡»å’Œå³é”®èœå•
    document.addEventListener("dblclick", e => e.preventDefault());
    document.addEventListener("contextmenu", e => e.preventDefault());
    document.addEventListener("keydown", e => {
      if (e.key === "F12" || (e.ctrlKey && e.shiftKey && e.key === "I")) {
        e.preventDefault();
      }
    });
  </script>
</body>
</html>
